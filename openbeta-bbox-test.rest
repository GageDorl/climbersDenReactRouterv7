### OpenBeta Bbox Query Tests
### Install REST Client extension in VS Code to run these

### Test 1: Using cragsWithin with nested bbox object
POST https://api.openbeta.io/graphql
Content-Type: application/json

{
  "query": "query CragsWithin($bbox: BboxInput!, $limit: Int) { cragsWithin(filter: { bbox: $bbox }, limit: $limit) { id uuid area_name totalClimbs metadata { lat lng } } }",
  "variables": {
    "bbox": {
      "maxLat": 45.0,
      "minLat": 40.0,
      "maxLng": -110.0,
      "minLng": -115.0
    },
    "limit": 10
  }
}

### Test 2: Using areas with bbox filter
POST https://api.openbeta.io/graphql
Content-Type: application/json

{
  "query": "query CragsWithin($bbox: BboxInput!, $limit: Int) { areas(filter: { bbox: $bbox }, limit: $limit) { id uuid area_name totalClimbs metadata { lat lng } } }",
  "variables": {
    "bbox": {
      "maxLat": 45.0,
      "minLat": 40.0,
      "maxLng": -110.0,
      "minLng": -115.0
    },
    "limit": 10
  }
}

### Test 3: Try with ne/sw corners instead
POST https://api.openbeta.io/graphql
Content-Type: application/json

{
  "query": "query CragsWithin($ne: LatLngInput!, $sw: LatLngInput!, $limit: Int) { areas(filter: { bbox: { ne: $ne, sw: $sw } }, limit: $limit) { id uuid area_name totalClimbs metadata { lat lng } } }",
  "variables": {
    "ne": { "lat": 45.0, "lng": -110.0 },
    "sw": { "lat": 40.0, "lng": -115.0 },
    "limit": 10
  }
}

### Test 4: Try with individual lat/lng params
POST https://api.openbeta.io/graphql
Content-Type: application/json

{
  "query": "query CragsWithin($maxLat: Float!, $minLat: Float!, $maxLng: Float!, $minLng: Float!, $limit: Int) { areas(filter: { bbox: { maxLat: $maxLat, minLat: $minLat, maxLng: $maxLng, minLng: $minLng } }, limit: $limit) { id uuid area_name totalClimbs metadata { lat lng } } }",
  "variables": {
    "maxLat": 45.0,
    "minLat": 40.0,
    "maxLng": -110.0,
    "minLng": -115.0,
    "limit": 10
  }
}

### Test 5: Query the schema to see what fields are available
POST https://api.openbeta.io/graphql
Content-Type: application/json

{
  "query": "query { __type(name: \"BboxInput\") { inputFields { name type { name kind ofType { name kind } } } } }"
}

### Test 6: Check what Query fields exist
POST https://api.openbeta.io/graphql
Content-Type: application/json

{
  "query": "query { __type(name: \"Query\") { fields { name args { name type { name kind } } } } }"
}

### Test 7: Check SearchWithinFilter structure
POST https://api.openbeta.io/graphql
Content-Type: application/json

{
  "query": "query { __type(name: \"SearchWithinFilter\") { inputFields { name type { name kind ofType { name kind } } } } }"
}

### Test 8: Check Filter structure (for areas)
POST https://api.openbeta.io/graphql
Content-Type: application/json

{
  "query": "query { __type(name: \"Filter\") { inputFields { name type { name kind ofType { name kind } } } } }"
}

### Test 9: Try cragsWithin with bbox as array and zoom (CORRECT FORMAT)
POST https://api.openbeta.io/graphql
Content-Type: application/json

{
  "query": "query CragsWithin($bbox: [Float!]!, $zoom: Float) { cragsWithin(filter: { bbox: $bbox, zoom: $zoom }) { id uuid area_name totalClimbs metadata { lat lng } } }",
  "variables": {
    "bbox": [-115.0, 40.0, -110.0, 45.0],
    "zoom": 10
  }
}
